<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>庆祝改革开放40周年-千龙网融媒体作品集</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">

    <!-- Link Swiper's CSS -->
    <link rel="stylesheet" href="lib/swiper-3.4.2.min.css">

    <!-- Demo styles -->
    <style>
        html, body {
            position: relative;
            height: 100%;
        }
        body {
            background: #fff;
            font-family: Helvetica Neue, Helvetica, Arial, sans-serif;
            font-size: 62.5%;
            color:#000;
            margin: 0;
            padding: 0;
        }
        .swiper-container {
            width: 100%;
            height: 100%;
        }
        .swiper-slide {
            text-align: center;
            font-size: 18px;
            /* Center slide text vertically */
            display: -webkit-box;
            display: -ms-flexbox;
            display: -webkit-flex;
            display: flex;
            -webkit-box-pack: center;
            -ms-flex-pack: center;
            -webkit-justify-content: center;
            justify-content: center;
            -webkit-box-align: center;
            -ms-flex-align: center;
            -webkit-align-items: center;
            align-items: center;
			overflow: hidden;

        }
        .swiper-container-f .swiper-wrapper{
            animation-duration:2000ms;
            -webkit-animation-duration:2000ms;
        }
        .swiper-slide img {
			position:absolute;
        }
		
		.arrow{position: absolute;bottom:10px;left:48%;z-index: 10;width:1.5em;}
        .loading{position: absolute;top:20%;text-align: center;z-index: 11;width:100%;}
        .swiper-pagination{display: none;}
		.btnMusic {
			position: absolute;
			right: 10px;
			top: 10px;
			z-index: 100;
			width:3em;
			height:3em;
		}
		.bgd{position:absolute;width:100%;}
		.bgd img{
			position:absolute;
			top:100%;
			left:0;
			width:100%;
		}

		.bgd0 {
			left: 0;
			top:0;
			width:100%;
			height:100%;
			position: absolute;
		}
		.itemAni0_1{position:absolute;width:34.2%;left:60.3%;top:11.6%;z-index:1;}
		.itemAni0_2{
			position:absolute;
			width:100%;
			left:0;
			top:26%;
			z-index:2;
		}
		.itemAni0_3{position:absolute;width:100%;left:0;top:50%;z-index:3;}
		.itemAni0_4{position:absolute;width:100%;left:0;bottom:2%;z-index:4;}
		.itemAni0_5{position:absolute;width:100%;left:0;bottom:0;z-index:5;}
		
		img.commBgd {
			width: 100%;
			height: 100%;
		}
		.commTitle{
			width:100%;
			top:0;
		}
		.mainPic{
			width:100%;
			top:15%;
		}
		.btnDetail{
			width:23%;
			left:3%;
			top:48%;
		}
		.logo{position:absolute;width:100%;left:0;bottom:2%;z-index:4;}

		.arrow{display:none;}
		img.backCoverBgd {
			width: 100%;
			height: 100%;
			top: 0;
			left: 0;
		}
		img.backCoverTxt {
			width: 100%;
			top: 0;
			left: 0;
		}
		img.backCoverBtn {
			width: 100%;
			bottom: 0%;
			left: 0;
			z-index:5;
		}
		.backCoverBuilding{position:absolute;width:100%;left:0;bottom:0;z-index:1;}
    </style>
</head>
<body>
<!-- Swiper -->
<!--
<p class="loading">loading...</p>-->

<div class="swiper-container swiper-container-v">
    <div class="swiper-wrapper">
        <div class="swiper-slide">
			<img class="bgd0" src="img/cover_6.jpg" alt=""/>
			<img class="itemAni0_1" src="img/cover_5.png" alt=""/>
			<img class="itemAni0_2" src="img/cover_1.png" alt=""/>
			<img class="itemAni0_3" src="img/cover_2.png" alt=""/>
			<img class="itemAni0_4" src="img/cover_3.png" alt=""/>
			<img class="itemAni0_5" src="img/cover_4.png" alt=""/>
		</div>  
		
		<div class="swiper-slide commPage">           
           <img class="commBgd" src="img/commBgd.png" alt=""/>
		   <img class="logo" src="img/cover_3.png">
			<img class="commTitle" src="img/commTitle.png" alt=""/>
			<img class="mainPic pic1" src="img/p0.png" data_link="http://comic.qianlong.com/2018/1218/3011204.shtml">
			<img class="btnDetail" src="img/btnDetail.png">
			
        </div> 
        <div class="swiper-slide commPage">           
           <img class="commBgd" src="img/commBgd.png" alt=""/>
		   <img class="logo" src="img/cover_3.png">
			<img class="commTitle" src="img/commTitle.png" alt=""/>
			<img class="mainPic pic1" src="img/p1.png" data_link="https://mp.weixin.qq.com/s/YAvG4Uhb0Dhj816tEF_cOg">
			<img class="btnDetail" src="img/btnDetail.png">
			
        </div>  
		
        <div class="swiper-slide">           
            <img class="commBgd" src="img/commBgd.png" alt=""/>
			<img class="logo" src="img/cover_3.png">
			<img class="commTitle" src="img/commTitle.png" alt=""/>
			<img class="mainPic pic2" src="img/p2.png" data_link="https://mp.weixin.qq.com/s/V9_gV_75dkiplH5dj0qwkw">
			<img class="btnDetail" src="img/btnDetail.png">
        </div>  
        <div class="swiper-slide">           
            <img class="commBgd" src="img/commBgd.png" alt=""/>
			<img class="logo" src="img/cover_3.png">
			<img class="commTitle" src="img/commTitle.png" alt=""/>
			<img class="mainPic pic3" src="img/p3.png" data_link="http://comic.qianlong.com/2018/1204/2982189.shtml">
			<img class="btnDetail" src="img/btnDetail.png">
        </div>  
		<div class="swiper-slide">           
			<img class="commBgd" src="img/commBgd.png" alt=""/>
			<img class="logo" src="img/cover_3.png">
			<img class="commTitle" src="img/commTitle.png" alt=""/>
			<img class="mainPic pic4" src="img/p4.png" data_link="http://u884918.viewer.maka.im/pcviewer/MK2EE4AN">
			<img class="btnDetail" src="img/btnDetail.png">
		</div>                               
		<div class="swiper-slide">           
            <img class="commBgd" src="img/commBgd.png" alt=""/>
			<img class="logo" src="img/cover_3.png">
			<img class="commTitle" src="img/commTitle.png" alt=""/>
			<img class="mainPic pic5" src="img/p5.png" data_link="http://partner.qianlong.com/h5/cybj40/">
			<img class="btnDetail" src="img/btnDetail.png">
        </div>                               
		<div class="swiper-slide">           
            <img class="commBgd" src="img/commBgd.png" alt=""/>
			<img class="logo" src="img/cover_3.png">
			<img class="commTitle" src="img/commTitle.png" alt=""/>
			<img class="mainPic pic6" src="img/p6.png" data_link="http://beijing.qianlong.com/zt/wyggkfzjhd/20180515/">
			<img class="btnDetail" src="img/btnDetail.png">
        </div>
		<div class="swiper-slide">
            <img class="commBgd" src="img/commBgd.png" alt=""/>
			<img class="logo" src="img/cover_3.png">
			<img class="commTitle" src="img/commTitle.png" alt=""/>
			<img class="mainPic pic7" src="img/p7.png" data_link="http://beijing.qianlong.com/zt/laowujian/index.shtml">
			<img class="btnDetail" src="img/btnDetail.png">
        </div>
		<div class="swiper-slide">
            <img class="commBgd" src="img/commBgd.png" alt=""/>
			<img class="logo" src="img/cover_3.png">
			<img class="commTitle" src="img/commTitle.png" alt=""/>
			<img class="mainPic pic8" src="img/p8.png" data_link="http://beijing.qianlong.com/2018/1031/2913773.shtml">
			<img class="btnDetail" src="img/btnDetail.png">
        </div>
		<div class="swiper-slide">
            <img class="commBgd" src="img/commBgd.png" alt=""/>
			<img class="logo" src="img/cover_3.png">
			<img class="commTitle" src="img/commTitle.png" alt=""/>
			<img class="mainPic pic9" src="img/p9.png" data_link="http://special.qianlong.com/180704/">
			<img class="btnDetail" src="img/btnDetail.png">
        </div>
		<div class="swiper-slide">
            <img class="commBgd" src="img/commBgd.png" alt=""/>
			<img class="logo" src="img/cover_3.png">
			<img class="commTitle" src="img/commTitle.png" alt=""/>
			<img class="mainPic pic10" src="img/p10.png" data_link="http://partner.qianlong.com/h5/gcbj40/index.html">
			<img class="btnDetail" src="img/btnDetail.png">
        </div>
		<div class="swiper-slide">
            <img class="commBgd" src="img/commBgd.png" alt=""/>
			<img class="logo" src="img/cover_3.png">
			<img class="commTitle" src="img/commTitle.png" alt=""/>
			<img class="mainPic pic11" src="img/p11.png" data_link="http://tv.qianlong.com/2018/1031/2912830.shtml">
			<img class="btnDetail" src="img/btnDetail.png">
        </div>
		<div class="swiper-slide">
            <img class="backCoverBgd" src="img/backCover_bgd.jpg" alt=""/>
			<img class="backCoverBuilding" src="img/cover_4.png" alt=""/>
			<img class="logo" src="img/cover_3.png">
			<img class="backCoverTxt" src="img/backCover_text.png" alt=""/>
			<img class="backCoverBtn" src="img/backCover_btn.png">
        </div>

    </div>
    <!-- Add Pagination -->
    <div class="swiper-pagination swiper-pagination-v"></div>
</div>
<img class="arrow" src="img/y_arrow.png" />
<!-- Swiper JS -->
<script src="lib/jquery-1.8.3.min.js"></script>
<script src="lib/swiper-3.4.2.jquery.min.js"></script>
<script src="lib/TweenMax.min.js"></script>
<script src="http://res.wx.qq.com/open/js/jweixin-1.0.0.js"></script>

<!-- Initialize Swiper -->
<script>
    var vh=$(window).height();
    var vw=$(window).width();
    var imgRatio=750/1206;
	console.log(vw/vh+"   "+imgRatio);
	if((vw/vh)>imgRatio){
		$('.mainPic').css('width','85%');
	}
	
    if(vw>vh){
        $('.swiper-container').height(vh);
        $('.swiper-container').width(vh*imgRatio);
    }

	$('img').load(function(){
		console.log("img loaded")
	})
	
	
	

    
    function makeSlideWithArrow(){
        swiperV.enableTouchControl();
        $('.arrow').show();
    }

	
	
	
	
	//第0帧,封面
	
	var tl0=new TimelineMax();
	var ani0_1=TweenMax.from($('.itemAni0_1'), 2, {scale:0,opacity:0,left:'-50%',top:'80%',ease:Power0.easeOut});
	var ani0_2=TweenMax.from($('.itemAni0_2'), 2, {x:'-200%',ease:Power3.easeOut,delay:2});
	var ani0_3=TweenMax.from($('.itemAni0_3'), 2, {x:'110%',ease:Power3.easeOut,delay:3});
	var ani0_4=TweenMax.from($('.itemAni0_5'), 1.5, {y:'110%',ease:Power3.easeOut,delay:4});
	var ani0_5=TweenMax.from($('.itemAni0_4'), 1, {opacity:0,scale:0,delay:3,ease: Elastic.easeOut,delay:5,onComplete:function(){$('.arrow').show()}});
	tl0.add([ani0_1,ani0_2,ani0_3,ani0_4,ani0_5]).pause();
	tl0.play();
	
	$('.mainPic').each(function(){
		$(this).click(function(){
			window.location.href=$(this).attr('data_link');
		})
	})
	$('.backCoverBtn').click(function(){
		window.location.reload();
	})
	
	//所有帧动画数组
	//var arrayTl=[tl0,tl1,tl2,tl3,tl4,tl5,tl6,tl7,tl8,tl9,tl10,tl11,tl12,tl13];
		
	var curIdx=0;
	var targIdx=0;
	//var canMoveBgd=true;
	
    var swiperV = new Swiper('.swiper-container-v', {
        pagination: '.swiper-pagination-v',
        paginationClickable: true,
        direction: 'vertical',
        spaceBetween: 0,
		mousewheelControl : true,
		onSlideChangeStart: function(swiper){
			targIdx=swiper.activeIndex;
			console.log(targIdx);
				if(targIdx==13){
					$('.arrow').hide();
				}else{
					
				}
		
          },
        onSlideChangeEnd: function(swiper){
		/*
			arrayTl[curIdx].seek(0.1).reverse();
			arrayTl[targIdx].restart();
			curIdx=targIdx;
          */ 
        }
    });


	

	//微信分享缩略图
	
	
	$.ajax({
		type: "get",
		async: true,
		url: "http://partner.qianlong.com/api/weixin/share/qianlong",
		dataType: "jsonp",
		data: {
			"weburl": location.href.split("#")[0]
		},
		success: function(json){
			wx.config({
				debug: false,
				appId: json.appId,
				timestamp: json.timestamp,
				nonceStr: json.nonceStr,
				signature: json.signature,
				jsApiList: ['onMenuShareAppMessage', 'onMenuShareTimeline', 'onMenuShareQQ', 'onMenuShareWeibo', 'onMenuShareQZone']
			});
		},
		error: function(){
			console.log("share error");
		}
	});

	wx.ready(function(){
		console.log("ready to share");
		var obj_co = {
					title: "庆祝改革开放40周年-千龙网融媒体作品集",
					link: "http://partner.qianlong.com/h5/ggkf40zpj",
					imgUrl: "http://partner.qianlong.com/h5/ggkf40zpj/img/thumbShare.png",
					success: function(){
					},
					cancel: function(){}
				},
				obj_co_desc = {
					desc: ""
				},
				obj_timeline = $.extend({}, obj_co),
				obj_appmsg = $.extend({}, obj_co_desc, obj_co),
				obj_qq = $.extend({}, obj_co_desc, obj_co),
				obj_wb = $.extend({}, obj_co_desc, obj_co),
				obj_qzone = $.extend({}, obj_co_desc, obj_co);

		wx.onMenuShareTimeline(obj_timeline);
		wx.onMenuShareAppMessage(obj_appmsg);
		wx.onMenuShareQQ(obj_qq);
		wx.onMenuShareWeibo(obj_wb);
		wx.onMenuShareQZone(obj_qzone);


	});

	wx.error(function (res) {
		console.log(res.errMsg);
		//alert(res.errMsg);
	});
	
	
	
</script>
</body>
</html>