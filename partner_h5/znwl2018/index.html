<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>北京市智能网联汽车产业白皮书2018</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">

    <!-- Link Swiper's CSS -->
    <link rel="stylesheet" href="lib/swiper-3.4.2.min.css">

    <!-- Demo styles -->
    <style>
		*{margin:0;padding:0;}
        html, body {
            position: relative;
            height: 100%;
        }
        body {
            background: #fff;
            font-family: Helvetica Neue, Helvetica, Arial, sans-serif;
            font-size: 62.5%;
            color:#000;
            margin: 0;
            padding: 0;
        }
        .swiper-container {
            width: 100%;
            height: 100%;
        }
        .swiper-slide {
            text-align: center;
            font-size: 18px;
            /* Center slide text vertically */
            display: -webkit-box;
            display: -ms-flexbox;
            display: -webkit-flex;
            display: flex;
            -webkit-box-pack: center;
            -ms-flex-pack: center;
            -webkit-justify-content: center;
            justify-content: center;
            -webkit-box-align: center;
            -ms-flex-align: center;
            -webkit-align-items: center;
            align-items: center;
			overflow: hidden;
			position:relative;

        }
        .swiper-container-f .swiper-wrapper{
            animation-duration:2000ms;
            -webkit-animation-duration:2000ms;
        }
        .swiper-slide img {
			position:absolute;
			width:100%;
			top: 0;
        }
        .swiper-pagination{display: none;}
		
		.cover img{
			position:absolute;

			display:block;
		}
		img.ani1{
			width:70.4%;
			top:76.7%;
			left:57%;
			
			top:28%;
			left:15%;
			
			
		}
		img.ani2{
			width:100%;
			top:0;
			left:0;
		}
		img.ani3{
			width:100%;
			top:22.2%;
			left:0;
		}
		img.ani4{
			width:20%;
			top:53.7%;
			left:40%;
		}
		img.ani5{
			width:100%;
			bottom:0;
			left:0;
			top:auto;
		}
		.bigTank {
			position: absolute;
			width: 100%;
			height: 100%;
			top: 0;
			left: 0;
			overflow: scroll;

		}
		.bigTank img{
			width:auto;
			height:auto;
			left:0;
		}
		.empty{
			position:absolute;
			width:100%;
			height:100%;
			background:#fff;
			z-index:100;
		}

    </style>
</head>
<body>
<!-- Swiper -->
<div class="empty"></div>
<div class="swiper-container swiper-container-v">
    <div class="swiper-wrapper">
        <div class="swiper-slide cover">
			<img class="ani1" src="img/c4.png" alt=""/>
			<img class="ani2" src="img/c2.jpg" alt=""/>
			<img class="ani3" src="img/c1.png" alt=""/>
			<img class="ani4" src="img/c3.png" alt=""/>
			<img class="ani5" src="img/c5.png" alt=""/>
		</div>  
		<div class="swiper-slide">
			<img src="img/p2.png" alt=""/>
		</div> 
		<div class="swiper-slide">
			<img class="hasMore" src="img/p3.png" alt=""/>
			<div class="bigTank">
				<img src="img/big1.png">
			</div>
		</div> 
		<div class="swiper-slide">
			<img class="hasMore" src="img/p4.png" alt=""/>
			<div class="bigTank">
				<img src="img/big2.png">
			</div>
		</div> 
		<div class="swiper-slide">
			<img src="img/p5.png" alt=""/>
		</div> 
		<div class="swiper-slide">
			<img src="img/p6.png" alt=""/>
		</div> 
		<div class="swiper-slide">
			<img src="img/p7.png" alt=""/>
		</div> 
		<div class="swiper-slide">
			<img src="img/p8.png" alt=""/>
			
		</div> 
		<div class="swiper-slide">
			<img src="img/p9.png" alt=""/>
			
		</div> 
		<div class="swiper-slide">
			<img class="hasMore" src="img/p10.png" alt=""/>
			<div class="bigTank">
				<img src="img/big3.png">
			</div>
		</div> 
		<div class="swiper-slide">
			<img class="hasMore" src="img/p11.png" alt=""/>
			<div class="bigTank">
				<img src="img/big4.jpg">
			</div>
		</div> 
		<div class="swiper-slide">
			<img src="img/p12.png" alt=""/>
		</div> 
		<div class="swiper-slide">
			<img src="img/p13.png" alt=""/>
		</div> 
		<div class="swiper-slide">
			<img src="img/p14.png" alt=""/>
		</div> 
		<div class="swiper-slide">
			<img src="img/p15.png" alt=""/>
		</div> 
		<div class="swiper-slide">
			<img src="img/p16.png" alt=""/>
		</div> 
		<div class="swiper-slide">
			<img src="img/p17.png" alt=""/>
		</div> 
		<div class="swiper-slide">
			<img src="img/p18.png" alt=""/>
		</div> 
		<div class="swiper-slide">
			<img src="img/p19.png" alt=""/>
		</div> 
		<div class="swiper-slide">
			<img src="img/p20.png" alt=""/>
		</div> 
                      


    </div>
    <!-- Add Pagination -->
    <div class="swiper-pagination swiper-pagination-v"></div>
</div>
<!-- Swiper JS -->
<script src="lib/jquery-1.8.3.min.js"></script>
<script src="lib/swiper-3.4.2.jquery.min.js"></script>
<script src="lib/TweenMax.min.js"></script>
<script src="http://res.wx.qq.com/open/js/jweixin-1.0.0.js"></script>

<!-- Initialize Swiper -->
<script>
    var vh=$(window).height();
    var vw=$(window).width();
    var imgRatio=750/1206;
	
    if(vw>vh){
        $('.swiper-container').height(vh);
        $('.swiper-container').width(vh*imgRatio);
    }
	
	
	
    var swiperV = new Swiper('.swiper-container-v', {
        pagination: '.swiper-pagination-v',
        paginationClickable: true,
        direction: 'vertical',
        spaceBetween: 0,
		mousewheelControl : true,
		onSlideChangeStart: function(swiper){
			var targIdx=swiper.activeIndex;
			$('.bigTank').hide();	
		
          },
        onSlideChangeEnd: function(swiper){

           
        }
    });

	
	//封面动画
	var ani1,ani2,ani3,ani4,ani5;
	function aniCover(){
		ani1=TweenMax.from('.ani1',2,{scale:0,rotation:360,ease:Power1.easeIn}).pause();
		ani2=TweenMax.from('.ani2',0.5,{top:'-100%',ease:Power1.easeIn,delay:2.8}).pause();
		ani3=TweenMax.to('.ani1',2,{top:'76.7%',left:'57%',ease:Elastic.easeOut,delay:3.1}).pause();
		ani4=TweenMax.from('.ani3',0.5,{left:'-100%',ease:Power1.easeIn,delay:4}).pause();
		ani5=TweenMax.from('.ani4',0.5,{opacity:'0',ease:Power1.easeIn,delay:5}).pause();
		ani6=TweenMax.from('.ani5',0.5,{bottom:'-30%',ease:Power1.easeIn,delay:6}).pause();
		$('.empty').hide();
		ani1.play();
		ani2.play();
		ani3.play();
		ani4.play();
		ani5.play();
		ani6.play();
	}

	aniCover();
	
	$('.bigTank').click(function(){
		$(this).hide();
	})
	$('.hasMore').click(function(){
		$('.bigTank').fadeIn(300);
	})
	/*
	var loadedNum=0;
	$('.cover img').load(function(){
		loadedNum+=1;
		console.log(loadedNum);
		if(loadedNum==5){
			console.log("loaded");
			$('.cover img').css('opacity','1');
			aniCover();
		}
		
	})
	*/
	
	
	
	//微信分享缩略图
	
	
	$.ajax({
		type: "get",
		async: true,
		url: "http://partner.qianlong.com/api/weixin/share/qianlong",
		dataType: "jsonp",
		data: {
			"weburl": location.href.split("#")[0]
		},
		success: function(json){
			wx.config({
				debug: false,
				appId: json.appId,
				timestamp: json.timestamp,
				nonceStr: json.nonceStr,
				signature: json.signature,
				jsApiList: ['onMenuShareAppMessage', 'onMenuShareTimeline', 'onMenuShareQQ', 'onMenuShareWeibo', 'onMenuShareQZone']
			});
		},
		error: function(){
			console.log("share error");
		}
	});

	wx.ready(function(){
		console.log("ready to share");
		var obj_co = {
					title: "北京市智能网联汽车产业白皮书2018",
					link: "http://partner.qianlong.com/h5/znwl2018/",
					imgUrl: "http://partner.qianlong.com/h5/znwl2018/img/thumbShare.jpg",
					success: function(){
					},
					cancel: function(){}
				},
				obj_co_desc = {
					desc: "北京市智能网联汽车产业创新发展行动方案全掌握"
				},
				obj_timeline = $.extend({}, obj_co),
				obj_appmsg = $.extend({}, obj_co_desc, obj_co),
				obj_qq = $.extend({}, obj_co_desc, obj_co),
				obj_wb = $.extend({}, obj_co_desc, obj_co),
				obj_qzone = $.extend({}, obj_co_desc, obj_co);

		wx.onMenuShareTimeline(obj_timeline);
		wx.onMenuShareAppMessage(obj_appmsg);
		wx.onMenuShareQQ(obj_qq);
		wx.onMenuShareWeibo(obj_wb);
		wx.onMenuShareQZone(obj_qzone);


	});

	wx.error(function (res) {
		console.log(res.errMsg);
		//alert(res.errMsg);
	});
	
	
	
</script>
</body>
</html>