<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>整装待发！看看进博会北京交易团都有谁</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">

    <!-- Link Swiper's CSS -->
    <link rel="stylesheet" href="lib/swiper-3.4.2.min.css">

    <!-- Demo styles -->
    <style>
		*{margin:0;padding:0;}
        html, body {
            position: relative;
            height: 100%;
        }
        body {
            background: #fff;
            font-family: Helvetica Neue, Helvetica, Arial, sans-serif;
            font-size: 62.5%;
            color:#000;
            margin: 0;
            padding: 0;
        }
        .swiper-container {
            width: 100%;
            height: 100%;
        }
        .swiper-slide {
            text-align: center;
            font-size: 18px;
            /* Center slide text vertically */
            display: -webkit-box;
            display: -ms-flexbox;
            display: -webkit-flex;
            display: flex;
            -webkit-box-pack: center;
            -ms-flex-pack: center;
            -webkit-justify-content: center;
            justify-content: center;
            -webkit-box-align: center;
            -ms-flex-align: center;
            -webkit-align-items: center;
            align-items: center;
			overflow: hidden;
			position:relative;

        }
        .swiper-container-f .swiper-wrapper{
            animation-duration:2000ms;
            -webkit-animation-duration:2000ms;
        }
        .swiper-slide img {
			position:absolute;
			width:100%;
			
        }
        .swiper-pagination{display: none;}
		.cover{
			background:#40bbdc;
		}
		.cover img{
			position:absolute;
			width:100%;
			display:block;
		}
		img.ani1{
			top:0%;
			left:0%;
		}
		img.ani2{
			top:auto;
			bottom:-85%;
			left:-514%;
			width:700%;
		}
		img.ani3{
			top:0%;
			left:0;
		}
		img.ani4{
			top:33.2%;
			left:0%;
		}
		img.ani5{
			top:48.7%;
			left:0;
			top:auto;
		}
		img.ani6{
			bottom:5%;
			left:0;
			top:auto;
		}
		.bigTank {
			position: absolute;
			width: 100%;
			height: 100%;
			top: 0;
			left: 0;
			overflow: scroll;

		}
		.bigTank img{
			width:auto;
			height:auto;
			left:0;
		}
		.empty{
			position:absolute;
			width:100%;
			height:100%;
			background:#fff;
			z-index:100;
		}
		
		.commBgd{
			position:absolute;
			width:100%;
			top:0;
			left:0;
		}
		.page1Ani1{
			top:auto;
			bottom:0;
			left:0;
		}
		.page1Ani2{
			top:25.4%;
			left:0;
		}
		.page1Ani3{
			bottom:5%;
			left:0;
		}
		
		
		.page2Ani1{
			top:auto;
			bottom:0;
			left:0;
		}
		.page2Ani2{
			top:25.4%;
			left:0;
		}
		.page2Ani3{
			bottom:5%;
			left:0;
		}
		
		.page3Ani1{
			top:auto;
			bottom:0;
			left:0;
		}
		.page3Ani2{
			top:20.3%;
			left:0;
		}
		.page3Ani3{
			top:34.8%;
			left:0;
		}
		.page3Ani4{
			top:72.8%;
			left:0;
		}
		.page3Ani5{
			bottom:5%;
			left:0;
		}
		
		.page4Ani1{
			top:auto;
			bottom:0;
			left:0;
		}
		.page4Ani2{
			top:20.6%;
			left:0;
		}
		.page4Ani3{
			top:47.9%;
			left:0;
		}
		.page4Ani4{
			bottom:5%;
			left:0;
		}

		.page5Ani1{
			top:auto;
			bottom:0;
			left:0;
		}
		.page5Ani2{
			top:20.6%;
			left:0;
		}
		.page5Ani3{
			top:40%;
			left:0;
		}
		.page5Ani4{
			bottom:5%;
			left:0;
		}
		
		.page6Ani1{
			top:31%;
			left:0;
		}
		.page6Ani2{
			bottom:5%;
			left:0;
		}
    </style>
</head>
<body>
<!-- Swiper -->
<div class="empty"></div>
<div class="swiper-container swiper-container-v">
    <div class="swiper-wrapper">
        <div class="swiper-slide cover">
			<img class="ani1" src="img/c1.jpg" alt=""/>
			<img class="ani2" src="img/c2.png" alt=""/>
			<img class="ani3" src="img/c3.png" alt=""/>
			<img class="ani4" src="img/c4.png" alt=""/>
			<img class="ani5" src="img/c5.png" alt=""/>
			<img class="ani6 btnNext" src="img/c6.png" alt=""/>
		</div>  
		<div class="swiper-slide">
			<img class="commBgd" src="img/commBgd.png" alt=""/>
			<img class="page1Ani1" src="img/p1Pic.jpg" alt=""/>
			<img class="page1Ani2" src="img/p1Text.png" alt=""/>
			<img class="page1Ani3 btnNext" src="img/btnNext.png" alt=""/>
		</div> 
		<div class="swiper-slide">
			<img class="commBgd" src="img/commBgd.png" alt=""/>
			<img class="page2Ani1" src="img/p2Pic.jpg" alt=""/>
			<img class="page2Ani2" src="img/p2Text.png" alt=""/>
			<img class="page2Ani3 btnNext" src="img/btnNext.png" alt=""/>
		</div> 
		<div class="swiper-slide">
			<img class="commBgd" src="img/commBgd.png" alt=""/>
			<img class="page3Ani1" src="img/p3Pic.jpg" alt=""/>
			<img class="page3Ani2" src="img/p3Text1.png" alt=""/>
			<img class="page3Ani3" src="img/p3Text2.png" alt=""/>
			<img class="page3Ani4" src="img/p3Text3.png" alt=""/>
			<img class="page3Ani5 btnNext" src="img/btnNext.png" alt=""/>
		</div> 
		<div class="swiper-slide">
			<img class="commBgd" src="img/commBgd.png" alt=""/>
			<img class="page4Ani1" src="img/p4Pic.jpg" alt=""/>
			<img class="page4Ani2" src="img/p4Text1.png" alt=""/>
			<img class="page4Ani3" src="img/p4Text2.png" alt=""/>
			<img class="page4Ani4 btnNext" src="img/btnNext.png" alt=""/>
		</div> 
		<div class="swiper-slide">
			<img class="commBgd" src="img/commBgd.png" alt=""/>
			<img class="page5Ani1" src="img/p5Pic.jpg" alt=""/>
			<img class="page5Ani2" src="img/p5Text1.png" alt=""/>
			<img class="page5Ani3" src="img/p5Text2.png" alt=""/>
			<img class="page5Ani4 btnNext" src="img/btnNext.png" alt=""/>
		</div> 
        <div class="swiper-slide">
			<img class="commBgd" src="img/commBgd.png" alt=""/>
			<img class="page6Ani1" src="img/p6Text1.png" alt=""/>
			<img class="page6Ani2" src="img/p6Text2.png" alt=""/>
		</div>      


    </div>
    <!-- Add Pagination -->
    <div class="swiper-pagination swiper-pagination-v"></div>
</div>
<!-- Swiper JS -->
<script src="lib/jquery-1.8.3.min.js"></script>
<script src="lib/swiper-3.4.2.jquery.min.js"></script>
<script src="lib/TweenMax.min.js"></script>
<script src="http://res.wx.qq.com/open/js/jweixin-1.0.0.js"></script>

<!-- Initialize Swiper -->
<script>
    var vh=$(window).height();
    var vw=$(window).width();
    var imgRatio=750/1206;
	
    if(vw>vh){
        $('.swiper-container').height(vh);
        $('.swiper-container').width(vh*imgRatio);
    }
	
	
	
    var swiperV = new Swiper('.swiper-container-v', {
        pagination: '.swiper-pagination-v',
        paginationClickable: true,
        direction: 'vertical',
        spaceBetween: 0,
		mousewheelControl : true,
		onSlideChangeStart: function(swiper){
			var targIdx=swiper.activeIndex;
			if (targIdx==1){
				TweenMax.from('.page1Ani1',2,{opacity:0,ease:Power1.easeIn});
				TweenMax.from('.page1Ani2',0.5,{left:'110%',ease:Power1.easeIn,delay:2});
				TweenMax.from('.page1Ani3',0.5,{bottom:'-50%',ease:Power2.easeOut,delay:3});
			}
			
			if (targIdx==2){
				TweenMax.from('.page2Ani1',2,{opacity:0,ease:Power1.easeIn});
				TweenMax.from('.page2Ani2',0.5,{left:'110%',ease:Power1.easeIn,delay:2});
				TweenMax.from('.page2Ani3',0.5,{bottom:'-50%',ease:Power2.easeOut,delay:3});
			}
			if (targIdx==3){
				TweenMax.from('.page3Ani1',2,{opacity:0,ease:Power1.easeIn});
				TweenMax.from('.page3Ani2',0.5,{left:'110%',ease:Power1.easeIn,delay:2});
				TweenMax.from('.page3Ani3',0.5,{left:'-110%',ease:Power1.easeIn,delay:3});
				TweenMax.from('.page3Ani4',0.5,{left:'110%',ease:Power1.easeIn,delay:4});
				TweenMax.from('.page3Ani5',0.5,{bottom:'-50%',ease:Power2.easeOut,delay:5});
			}
			
			if (targIdx==4){
				TweenMax.from('.page4Ani1',2,{opacity:0,ease:Power1.easeIn});
				TweenMax.from('.page4Ani2',0.5,{left:'110%',ease:Power1.easeIn,delay:2});
				TweenMax.from('.page4Ani3',0.5,{left:'-110%',ease:Power1.easeIn,delay:3});
				TweenMax.from('.page4Ani4',0.5,{bottom:'-50%',ease:Power2.easeOut,delay:4});
			}
			if (targIdx==5){
				TweenMax.from('.page5Ani1',2,{opacity:0,ease:Power1.easeIn});
				TweenMax.from('.page5Ani2',0.5,{left:'110%',ease:Power1.easeIn,delay:2});
				TweenMax.from('.page5Ani3',0.5,{left:'-110%',ease:Power1.easeIn,delay:3});
				TweenMax.from('.page5Ani4',0.5,{bottom:'-50%',ease:Power2.easeOut,delay:4});
			}
			if (targIdx==6){
				TweenMax.from('.page6Ani1',0.5,{left:'110%',ease:Power1.easeIn});
				TweenMax.from('.page6Ani2',0.5,{opacity:'0',ease:Power1.easeIn,delay:1});

			}
          },
        onSlideChangeEnd: function(swiper){
			
        }
    });

	swiperV.disableTouchControl();
	$('.btnNext').click(function(){
		swiperV.slideNext();
	})
	
	//封面动画
	var ani1,ani2,ani3,ani4,ani5,ani6,ani7;
	function aniCover(){
		ani1=TweenMax.from('.ani1',2,{opacity:0,ease:Power1.easeIn}).pause();
		ani2=TweenMax.from('.ani2',0.5,{opacity:0,ease:Power1.easeIn,delay:2}).pause();
		ani3=TweenMax.to('.ani2',1.5,{bottom:0,width:'100%',left:0,ease:Power1.easeOut,delay:3.5}).pause();
		ani4=TweenMax.from('.ani3',0.5,{top:'-100%',ease:Power2.easeOut,delay:5}).pause();
		ani5=TweenMax.from('.ani4',0.5,{opacity:'0',ease:Power1.easeIn,delay:6}).pause();
		ani6=TweenMax.from('.ani5',0.5,{left:'110%',ease:Power1.easeIn,delay:7}).pause();
		ani7=TweenMax.from('.ani6',1,{bottom:'-50%',ease:Power1.easeIn,delay:7.5}).pause();
		$('.empty').hide();
		ani1.play();
		ani2.play();
		
		ani3.play();
		ani4.play();
		ani5.play();
		ani6.play();
		ani7.play();
		
	}

	aniCover();

	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	$('.bigTank').click(function(){
		$(this).hide();
	})
	$('.hasMore').click(function(){
		$('.bigTank').fadeIn(300);
	})
	/*
	var loadedNum=0;
	$('.cover img').load(function(){
		loadedNum+=1;
		console.log(loadedNum);
		if(loadedNum==5){
			console.log("loaded");
			$('.cover img').css('opacity','1');
			aniCover();
		}
		
	})
	*/
	
	
	
	//微信分享缩略图
	
	
	$.ajax({
		type: "get",
		async: true,
		url: "http://partner.qianlong.com/api/weixin/share/qianlong",
		dataType: "jsonp",
		data: {
			"weburl": location.href.split("#")[0]
		},
		success: function(json){
			wx.config({
				debug: false,
				appId: json.appId,
				timestamp: json.timestamp,
				nonceStr: json.nonceStr,
				signature: json.signature,
				jsApiList: ['onMenuShareAppMessage', 'onMenuShareTimeline', 'onMenuShareQQ', 'onMenuShareWeibo', 'onMenuShareQZone']
			});
		},
		error: function(){
			console.log("share error");
		}
	});

	wx.ready(function(){
		console.log("ready to share");
		var obj_co = {
					title: "整装待发！看看进博会北京交易团都有谁",
					link: "http://partner.qianlong.com/h5/jinbohui/1/",
					imgUrl: "http://partner.qianlong.com/h5/jinbohui/1/img/thumbShare.jpg",
					success: function(){
					},
					cancel: function(){}
				},
				obj_co_desc = {
					desc: ""
				},
				obj_timeline = $.extend({}, obj_co),
				obj_appmsg = $.extend({}, obj_co_desc, obj_co),
				obj_qq = $.extend({}, obj_co_desc, obj_co),
				obj_wb = $.extend({}, obj_co_desc, obj_co),
				obj_qzone = $.extend({}, obj_co_desc, obj_co);

		wx.onMenuShareTimeline(obj_timeline);
		wx.onMenuShareAppMessage(obj_appmsg);
		wx.onMenuShareQQ(obj_qq);
		wx.onMenuShareWeibo(obj_wb);
		wx.onMenuShareQZone(obj_qzone);


	});

	wx.error(function (res) {
		console.log(res.errMsg);
		//alert(res.errMsg);
	});
	
	
	
</script>
</body>
</html>